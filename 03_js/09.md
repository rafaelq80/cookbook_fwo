<h1>Projeto 01 - Portf√≥lio - Valida√ß√£o de Dados do Formul√°rio</h1>



A **valida√ß√£o de formul√°rios HTML** √© uma ferramenta poderosa e essencial para garantir a integridade dos dados inseridos pelos usu√°rios em formul√°rios web. Entre os principais **benef√≠cios** podemos destacar:

1. **Integridade dos Dados**: A valida√ß√£o assegura que os dados enviados sejam corretos e estejam no formato esperado, evitando erros e inconsist√™ncias, al√©m de melhorar a qualidade das informa√ß√µes coletadas.

2. **Experi√™ncia do Usu√°rio Aprimorada**: A valida√ß√£o fornece Feedback imediato, atrav√©s de mensagens de erro instant√¢neas, orientando os usu√°rios sobre campos preenchidos incorretamente. Al√©m disso, melhora a usabilidade e evita frustra√ß√µes, tornando a intera√ß√£o mais suave.

3. **Redu√ß√£o de Requisi√ß√µes Desnecess√°rias**: Validar os dados no Frontend evita o envio de dados inv√°lidos ao servidor, economizando recursos do servidor e melhorando a efici√™ncia do sistema.

4. **Seguran√ßa**: A valida√ß√£o evita que dados maliciosos, como *SQL Injection* ou *Cross-Site Scripting*, sejam processados pelo servidor.

<br />

<h2>1. Tipos de Valida√ß√£o</h2>



Voc√™ pode efetuar diversos tipos de valida√ß√µes em formul√°rios HTML, entre elas, destacamos:

   - **Presen√ßa de Dados**: Garante que campos obrigat√≥rios sejam preenchidos.
   - **Tipo de Dado**: Verifica se o valor corresponde ao tipo esperado (texto, n√∫mero, entre outros).
   - **Formato (Express√µes Regulares)**: Valida√ß√£o de campos com formatos espec√≠ficos como e-mails, telefones, CEP, CPF, entre outros.
   - **Unicidade**: Verifica se o valor j√° existe na base de dados.
   - **Consist√™ncia entre Dados Relacionados**: Definir um intervalo de datas (data de inicial e data final).
   - **Complexidade de Dados**: Senhas que atendam a requisitos m√≠nimos de seguran√ßa (m√≠nimo de 8 caracteres, pelo menos uma letra mai√∫scula, um n√∫mero e um caractere especial).

<br />

<h2>2. Como realizar a valida√ß√£o de um formul√°rio utilizando JavaScript?</h2>



Quando implementamos a valida√ß√£o de formul√°rio, temos que levar em considera√ß√£o algumas quest√µes:

1. **O que √© um dado v√°lido?** Essa pergunta nos ajuda a identificar o formato, o tamanho, a obrigatoriedade e o tipo de dado.
2. **O que acontece se o usu√°rio informar dados inv√°lidos?** Essa quest√£o nos ajuda a definir o comportamento da valida√ß√£o ‚Äì se mostramos uma mensagem de erro no topo ou no rodap√© do formul√°rio, o n√≠vel de detalhamento que deve ter a mensagem de erro, se o formul√°rio pode ser enviado mesmo assim, se devemos registrar o envio de dado inv√°lido, entre outros. 

Ap√≥s responder estas perguntas, o pr√≥ximo passos s√£o os seguintes:

- Selecionar os campos do formul√°rio HTML, atrav√©s das fun√ß√µes seletoras do JavaScript;
- Criar as fun√ß√µes de valida√ß√£o atrav√©s da Linguagem JavaScript;
- Aplicar as fun√ß√µes nos respectivos campos do formul√°rio, atrav√©s dos eventos;
- Exibir no formul√°rio as mensagens de erro nos respectivos elementos `<span>` de cada campo, atrav√©s das fun√ß√µes modificadoras do JavaScript.

Vamos ao c√≥digo!

<br />

<h2>üë£ Passo 01 - Atualizar o arquivo script.js</h2>



1. Localize o trecho de c√≥digo abaixo no inicio do arquivo **script .js**:

<div align="center"><img src="https://i.imgur.com/akxoEWl.png" title="source: imgur.com" /></div>

2. Adicione o c√≥digo abaixo depois do trecho acima:

```js
const formulario = document.querySelector('#formulario');

const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
```

Vamos entender o c√≥digo adicionado:

<div align="center"><img src="https://i.imgur.com/BV9h7kO.png" title="source: imgur.com" /></div>

**Linha 01:** Cria a constante **formulario**, atribuindo todo o conte√∫do do formul√°rio.

**Linha 02:** Cria a constante **emailRegex**, atribuindo uma **Express√£o Regular**, que ser√° utilizada para validar o endere√ßo do e-mail informado no campo email do formul√°rio. Observe que a **Express√£o Regular n√£o deve ser inserida entre aspas**, caso contr√°rio a valida√ß√£o n√£o ser√° efetuada.

> **Express√µes Regulares** 
>
> Express√µes Regulares (ou **regex**), s√£o padr√µes utilizados para selecionar combina√ß√µes espec√≠ficas de caracteres em uma string. No JavaScript, express√µes regulares s√£o objetos que permitem buscar e manipular texto com base nesses padr√µes pr√© estabelecidos.
>
> As express√µes regulares podem ser utilizadas em diversas tarefas. Na Linguagem JavaScript elas s√£o mkuito utilizadas para:
>
> - **Valida√ß√£o de Dados**: As regex s√£o essenciais para validar formatos espec√≠ficos, como e-mail, telefone, CEP, CPF, entre outros.
> - **Busca e Substitui√ß√£o**: Permitem encontrar e substituir partes de texto dentro de uma string.
> - **Processamento de Dados**: √öteis para filtrar informa√ß√µes relevantes.
>
> Na lista abaixo, vemos alguns exemplos de Express√µes Regulares para Valida√ß√£o de Formul√°rios no JavaScript, seguindo os padr√µes do Brasil:
>
> #### CPF
>
> Valida tanto `123.456.789-00` quanto `12345678900`
>
> N√£o valida o algoritmo, s√≥ o formato
>
> ```
> /(^\d{3}\.\d{3}\.\d{3}\-\d{2}$)/
> ```
>
> #### CNPJ
>
> Valida tanto `12.345.678/0001-00` quanto `12345678000100`
>
> N√£o valida o algoritmo, s√≥ o formato
>
> ```
> /(^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$)/
> ```
>
> #### CPF ou CNPJ
>
> Muito √∫til quando voc√™ s√≥ precisa de um dos 2 documentos v√°lido
>
> ```
> /(^\d{3}\.\d{3}\.\d{3}\-\d{2}$)|(^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$)/
> ```
>
> #### RG
>
> Valida qualquer RG, inclu√≠ndo finais com o d√≠gito X
>
> ```
> /(^\d{1,2}).?(\d{3}).?(\d{3})-?(\d{1}|X|x$)/
> ```
>
> #### Telefone
>
> Valida qualquer telefone ou celular, com ou sem DDD. O tra√ßo √© opcional.
>
> ```
> /(^[0-9]{2})?(\s|-)?(9?[0-9]{4})-?([0-9]{4}$)/
> ```
>
> #### CEP
>
> Valida qualquer CEP com o tra√ßo sendo opcional.
>
> ```
> /(^[0-9]{5})-?([0-9]{3}$)/
> ```
>
> #### E-mail 
>
> ```
> /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
> ```
>
> #### Endere√ßos WEB
>
> Qualquer url http, https, ftp v√°lida
>
> ```
> /^(((https?|ftp):\/\/)?([\w\-\.])+(\.)([\w]){2,4}([\w\/+=%&_\.~?\-]*))*$/
> ```
>
> #### Senha
>
> Senha de no m√≠nimo 6 caracteres, pelo menos uma letra mai√∫scula, pelo menos uma letra min√∫scula, pelo menos um n√∫mero, pelo menos um  caractere especial
>
> ```
> /(?=^.{6,}$)((?=.*\w)(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[|!"$%&\/\(\)\?\^\'\\\+\-\*]))^.*/
> ```
>
> *A Express√£o Regular para valida√ß√£o de senha, segue o padr√£o: m√≠nimo 8 caracteres, pelo menos uma letra mai√∫scula, pelo  menos uma letra min√∫scula, pelo menos um n√∫mero, pelo menos um caractere especial.*
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/n6JxSHg.png" title="source: imgur.com" width="5%"/> <a href="https://aurelio.net/regex/guia/" target="_blank"><b>Guia das Express√µes Regulares</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Guide/Regular_expressions" target="_blank"><b>Documenta√ß√£o: Express√µes Regulares no JavaScript</b></a></div>
>
> <br />

<br />

3. Localize a fun√ß√£o **getApiGithub()**
4. Adicione o c√≥digo abaixo depois da fun√ß√£o **getApiGithub()**:

```js
formulario.addEventListener('submit', function(event) {
  
    event.preventDefault();
  
    const campoNome = document.querySelector('#name');
    const txtNome = document.querySelector('#txtNome');
  
    if (campoNome.value.length < 3) {
      txtNome.innerHTML = 'O Nome deve ter no minimo 3 caracteres.';
      campoNome.focus();
      return;
    }else{
      txtNome.innerHTML = '';
    }
  
    const campoEmail = document.querySelector('#email');
    const txtEmail = document.querySelector('#txtEmail');
  
    if (!campoEmail.value.match(emailRegex)) {
      txtEmail.innerHTML = 'Digite um E-mail v√°lido.';
      campoEmail.focus();
      return;
    }else{
      txtEmail.innerHTML = '';
    }
  
    const campoSubject = document.querySelector('#subject');
    const txtSubject = document.querySelector('#txtSubject');
  
    if (campoSubject.value.length < 5) {
      txtSubject.innerHTML = 'O Assunto deve ter no minimo 5 caracteres.';
      campoSubject.focus();
      return;
    }else{
      txtSubject.innerHTML = '';
    }

    formulario.submit();
  
  });
```

Vamos entender o c√≥digo adicionado:

<div align="center"><img src="https://i.imgur.com/5poPz7G.png" title="source: imgur.com" /></div>

**Linha 01:** Adicionamos um **ouvidor de eventos** ao formul√°rio, que ser√° acionado sempre que o formul√°rio for enviado (quando o usu√°rio clica no bot√£o "Enviar"), atrav√©s do evento **submit**. A fun√ß√£o passada como argumento (`function(event)`), ser√° executada quando o evento de envio ocorrer.

**Linha 03:** A instru√ß√£o `event.preventDefault()` previne o comportamento padr√£o do formul√°rio, que seria recarregar a p√°gina ap√≥s o envio. Em vez disso, a fun√ß√£o de envio personalizada ser√° executada, validando os campos do formul√°rio.

**Linha 05:** Cria a constante **campoNome**, que receber√° o campo cujo id seja igual a **name**, ou seja, o input name.

**Linha 06:** Cria a constante **txtNome**, que receber√° o campo cujo id seja igual a **txtNome**, ou seja, o span txtNome, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo name.

**Linhas 08 a 14:** Far√° a valida√ß√£o do campo **name**:

- Se o valor do campo name tiver menos de 3 caracteres (linha 08):
  - Define o texto de erro no elemento `txtNome` (linha 09).
  - D√° foco ao campo name, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 10).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 11).
- Caso Contr√°rio, Define o texto do elemento `txtNome` como vazio (linha 13), indicando que a valida√ß√£o do campo name foi conclu√≠da sem erros.

> A fun√ß√£o **focus()** √© usada para dar foco a um elemento HTML, como um campo de entrada, bot√£o ou link. Quando chamada em um elemento, ela o torna o elemento ativo no momento, geralmente destacando-o ou preparando-o para intera√ß√£o do usu√°rio¬π. Veja como funciona:
>
> **Sintaxe**:
>
> ```javascript
> elementoHTML.focus();
> ```
>
> Quando voc√™ executa a fun√ß√£o `focus()` em um elemento (por exemplo, em um campo input), ele se torna o elemento atualmente ativo, ou seja, o elemento recebe eventos de teclado (como digita√ß√£o) e outras intera√ß√µes relacionadas.
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Focus()</b></a></div>
>
> <br />

**Linha 16:** Cria a constante **campoEmail**, que receber√° o campo cujo id seja igual a **email**, ou seja, o input email.

**Linha 17:** Cria a constante **txtEmail**, que receber√° o campo cujo id seja igual a **txtEmail**, ou seja, o span txtEmail, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo email.

**Linhas 19 a 25:** Far√° a valida√ß√£o do campo **email**:

- Se o valor do campo email n√£o corresponde ao padr√£o de e-mail v√°lido, estabelecido pela Express√£o Regular **emailRegex** (linha 19):
  - Define o texto de erro no elemento `txtEmail` (linha 20).
  - D√° foco ao campo email, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 21).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 22).
- Caso Contr√°rio, Define o texto do elemento `txtNome` como vazio (linha 24), indicando que a valida√ß√£o do campo email foi conclu√≠da sem erros.

>A fun√ß√£o **match()** √© usada para pesquisar uma string em busca de correspond√™ncias com uma Express√£o Regular. Se a correspond√™ncia for encontrada, ele retornar√° uma matriz que cont√©m as correspond√™ncias de um item para cada correspond√™ncia. Caso a correspond√™ncia n√£o seja encontrada, ele retornar√° nulo (null). 
>
>**Sintaxe:**
>
>```js
>const result = string.match(regexp);
>```
>
><br />
>
><div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Match()</b></a></div>
>
><br />

**Linha 27:** Cria a constante **campoSubject**, que receber√° o campo cujo id seja igual a **subject**, ou seja, o input subject.

**Linha 28:** Cria a constante **txtSubject**, que receber√° o campo cujo id seja igual a **txtSubject**, ou seja, o span txtSubject, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo subject.

**Linhas 30 a 36:** Far√° a valida√ß√£o do campo **subject**:

- Se o valor do campo subject tiver menos de 5 caracteres (linha 30):
  - Define o texto de erro no elemento `txtSubject` (linha 31).
  - D√° foco ao campo subject, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 32).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 33).
- Caso Contr√°rio, Define o texto do elemento `txtSubject` como vazio (linha 35), indicando que a valida√ß√£o do campo subject foi conclu√≠da sem erros.

**Linha 38:** Se todas as valida√ß√µes passarem, o formul√°rio ser√° enviado atrav√©s da fun√ß√£o `formulario.submit()`.

Em resumo, o c√≥digo acima valida os campos de nome, e-mail e assunto, antes de permitir o envio do formul√°rio. Se algum campo n√£o atender aos crit√©rios pr√© estabelecidos, uma mensagem de erro ser√° exibida e o envio do formul√°rio ser√° bloqueado.

<br />

<div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://www.w3schools.com/jsref/jsref_return.asp" target="_blank"><b>Documenta√ß√£o: Declara√ß√£o Return</b></a></div>

<div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://www.w3schools.com/jsref/met_form_submit.asp" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Submit()</b></a></div>

<br />

<h2>üë£ Passo 02 - Atualizar o arquivo style.css</h2>



1. Abra o arquivo **style.css**
2. Localize a estiliza√ß√£o da Se√ß√£o **Formul√°rio (form)**;
3. Adicione o c√≥digo abaixo no final da Se√ß√£o **Formul√°rio (form)**:

```css
form span{
    margin-bottom: 8px;
    margin-left: 12px;
    font-size: 12px;
    line-height: 16px;
    color: red;
}
```

O c√≥digo acima, ser√° utilizado para estilizar as tags `<span>`, que foram adicionadas logo abaixo de cada campo do formul√°rio, que ser√£o utilizadas para exibir as mensagens de erro de valida√ß√£o de cada campo.

<br />

<h2>üë£ Passo 03 - Atualizar o arquivo index.html</h2>



1. Abra o arquivo **index.html**
2. Localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/0D24EdH.png" title="source: imgur.com" /></div>

3. Substitua a **linha 03**, pelo trecho de c√≥digo abaixo:

```html
<form 
      action="https://formsubmit.co/7065d88cfa92a310a1da3b7a5effb0c9" 
      id="formulario" 
      name="formulario" 
      method="POST"
>
```

As propriedades `id` e `name` ser√£o utilizadas pela fun√ß√£o de valida√ß√£o do formul√°rio.

<br />

<h2>üë£ Passo 04 - Testar o Formul√°rio</h2>



1. Abra a p√°gina index.html no Navegador, atrav√©s do **Live Server** e clique no item **Contate-me** do menu:

<div align="center"><img src="https://i.imgur.com/0PLZ2J2.png" title="source: imgur.com" /></div>

2. Preencha o Formul√°rio com dados inv√°lidos e clique no bot√£o **Enviar**:

<div align="center"><img src="https://i.imgur.com/RzNrQ0M.png" title="source: imgur.com" /></div>

3. Observe que ser√° exibida a Mensagem de Erro de Valida√ß√£o do Campo Nome:

<div align="center"><img src="https://i.imgur.com/9j6X5lT.png" title="source: imgur.com" /></div>

4. Ap√≥s corrigir o nome, ao clicar no bot√£o **Enviar**, ser√° exibida a Mensagem de Erro de Valida√ß√£o do Campo E-mail:

<div align="center"><img src="https://i.imgur.com/ofNTY1p.png" title="source: imgur.com" /></div>

5. O formul√°rio ser√° enviado somente depois de todos os campos passarem pela valida√ß√£o:

<div align="center"><img src="https://i.imgur.com/vZ2ymSV.png" title="source: imgur.com" /></div>

<br />

<h2>3. Boas pr√°ticas de valida√ß√£o</h2>



1. Sempre utilize valida√ß√£o dupla, ou seja, valide tanto no lado do cliente, quanto no lado do servidor, pois a valida√ß√£o no lado do cliente pode ser manipulada.
2. Informe as mensagens de erro juntamente com o campo que causou o erro de valida√ß√£o.
3. Na mensagem que informa o erro, forne√ßa exemplos de que dado deve ser usado. Por exemplo, "Endere√ßo de e-mail inv√°lido - formato: teste@exemplo.com".
4. Evite usar p√°ginas de erro que envolvam redirecionamento. Isso torna a experi√™ncia ruim para o usu√°rio e o for√ßa a voltar para uma p√°gina anterior para corrigir o formul√°rio, perdendo assim os dados preenchidos.
5. Sempre indique quais s√£o os campos obrigat√≥rios, com um asterisco ao lado, por exemplo.

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="5%"/> <a href="https://github.com/rafaelq80/portfolio_fundweb/tree/03_JS" target="_blank"><b>C√≥digo fonte do projeto - JS</b></a></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div> 
